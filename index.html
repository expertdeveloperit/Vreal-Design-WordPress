<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>vreal</title>
	<link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
  <div id="particles-js"></div>
	<main class="container-fluid padding-zero">
		<section class="background">
	    <div class="content-wrapper">
	      page1
	    </div>
		</section>
		<section class="background">
		    <div class="content-wrapper">
		      page2
		    </div>
		</section>
		<section class="background">
		    <div class="content-wrapper">
		      page3
		    </div>
		</section>
	</main>
	<script src="assets/js/lodash.min.js" ></script>
	<script src="assets/js/jquery-3.2.1.slim.min.js" ></script>
	<script src="assets/js/popper.min.js" ></script>
	<script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
	<script>
		var ticking = false;
		var isFirefox = /Firefox/i.test(navigator.userAgent);
		var isIe = /MSIE/i.test(navigator.userAgent) || /Trident.*rv\:11\./i.test(navigator.userAgent);
		var scrollSensitivitySetting = 30;
		var slideDurationSetting = 800;
		var currentSlideNumber = 0;
		var totalSlideNumber = $('.background').length;
		function parallaxScroll(evt) {
		    if (isFirefox) {
		        delta = evt.detail * -120;
		    } else if (isIe) {
		        delta = -evt.deltaY;
		    } else {
		        delta = evt.wheelDelta;
		    }
		    if (ticking != true) {
		        if (delta <= -scrollSensitivitySetting) {
		            ticking = true;
		            if (currentSlideNumber !== totalSlideNumber - 1) {
		                currentSlideNumber++;
		                nextItem();
		            }
		            slideDurationTimeout(slideDurationSetting);
		        }
		        if (delta >= scrollSensitivitySetting) {
		            ticking = true;
		            if (currentSlideNumber !== 0) {
		                currentSlideNumber--;
		            }
		            previousItem();
		            slideDurationTimeout(slideDurationSetting);
		        }
		    }
		}
		function slideDurationTimeout(slideDuration) {
		    setTimeout(function () {
		        ticking = false;
		    }, slideDuration);
		}
		var mousewheelEvent = isFirefox ? 'DOMMouseScroll' : 'wheel';
		window.addEventListener(mousewheelEvent, _.throttle(parallaxScroll, 60), false);
		function nextItem() {
		    var $previousSlide = $('.background').eq(currentSlideNumber - 1);
		    $previousSlide.css('transform', 'translate3d(0,-130vh,0)').find('.content-wrapper').css('transform', 'translateY(40vh)');
		    currentSlideTransition();
		}
		function previousItem() {
		    var $previousSlide = $('.background').eq(currentSlideNumber + 1);
		    $previousSlide.css('transform', 'translate3d(0,30vh,0)').find('.content-wrapper').css('transform', 'translateY(30vh)');
		    currentSlideTransition();
		}
		function currentSlideTransition() {
		    var $currentSlide = $('.background').eq(currentSlideNumber);
		    $currentSlide.css('transform', 'translate3d(0,-15vh,0)').find('.content-wrapper').css('transform', 'translateY(15vh)');
		    ;
		}

</script>
<script src="assets/js/particles.min.js"></script>
<script src="assets/js/app.js"></script>
<script src="assets/js/lib/stats.js"></script>
<script>
  var count_particles, stats, update;
  stats = new Stats;
  stats.setMode(0);
  stats.domElement.style.position = 'absolute';
  stats.domElement.style.left = '0px';
  stats.domElement.style.top = '0px';
  document.body.appendChild(stats.domElement);
  count_particles = document.querySelector('.js-count-particles');
  update = function() {
    stats.begin();
    stats.end();
    if (window.pJSDom[0].pJS.particles && window.pJSDom[0].pJS.particles.array) {
      //count_particles.innerText = window.pJSDom[0].pJS.particles.array.length;
    }
    requestAnimationFrame(update);
  };
  requestAnimationFrame(update);
</script>
</body>
</html>